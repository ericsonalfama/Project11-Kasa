{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useLocation}from'react-router-dom';import'./accordion.scss';import chevron from'../../assets/chevron.svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Accordion(_ref){let{items}=_ref;const[expandedIndices,setExpandedIndices]=useState([]);const contentRefs=useRef([]);const location=useLocation();const isAboutPage=location.pathname==='/about';const toggleExpand=index=>{if(expandedIndices.includes(index)){setExpandedIndices(expandedIndices.filter(i=>i!==index));}else{setExpandedIndices([...expandedIndices,index]);}};useEffect(()=>{// Set maxHeight dynamically based on content height when expanded\ncontentRefs.current.forEach((ref,index)=>{if(ref){ref.style.maxHeight=expandedIndices.includes(index)?`${ref.scrollHeight}px`:'0px';}});},[expandedIndices]);return/*#__PURE__*/_jsx(\"div\",{className:isAboutPage?\"accordion-container-2\":\"accordion-container\",children:items.map((_ref2,index)=>{let{title,content}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:`accordion-item ${expandedIndices.includes(index)?'expanded':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-header\",onClick:()=>toggleExpand(index),children:[/*#__PURE__*/_jsx(\"h1\",{children:title}),/*#__PURE__*/_jsx(\"button\",{className:`accordion-toggle ${expandedIndices.includes(index)?'expanded':''}`,children:/*#__PURE__*/_jsx(\"img\",{src:chevron,alt:\"chevron\",className:`chevron ${expandedIndices.includes(index)?'rotate':''}`})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"accordion-content\",ref:el=>contentRefs.current[index]=el,children:Array.isArray(content)?/*#__PURE__*/_jsx(\"ul\",{children:content.map((item,i)=>/*#__PURE__*/_jsx(\"li\",{children:item},i))}):/*#__PURE__*/_jsx(\"p\",{children:content})})]},index);})});}export default Accordion;","map":{"version":3,"names":["React","useState","useRef","useEffect","useLocation","chevron","jsx","_jsx","jsxs","_jsxs","Accordion","_ref","items","expandedIndices","setExpandedIndices","contentRefs","location","isAboutPage","pathname","toggleExpand","index","includes","filter","i","current","forEach","ref","style","maxHeight","scrollHeight","className","children","map","_ref2","title","content","onClick","src","alt","el","Array","isArray","item"],"sources":["/Users/iesaair/Library/Mobile Documents/com~apple~CloudDocs/OPENCLASSROOMS/PROJET 11/kasa/src/components/Accordion/accordion.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './accordion.scss';\nimport chevron from '../../assets/chevron.svg';\nfunction Accordion({ items }) {\n    const [expandedIndices, setExpandedIndices] = useState([]);\n    const contentRefs = useRef([]);\n    const location = useLocation();\n    const isAboutPage = location.pathname === '/about';\n\n    const toggleExpand = (index) => {\n        if (expandedIndices.includes(index)) {\n            setExpandedIndices(expandedIndices.filter(i => i !== index));\n        } else {\n            setExpandedIndices([...expandedIndices, index]);\n        }\n    };\n\n    useEffect(() => {\n        // Set maxHeight dynamically based on content height when expanded\n        contentRefs.current.forEach((ref, index) => {\n            if (ref) {\n                ref.style.maxHeight = expandedIndices.includes(index) ? `${ref.scrollHeight}px` : '0px';\n            }\n        });\n    }, [expandedIndices]);\n\n    return (\n        <div className={isAboutPage ? \"accordion-container-2\" : \"accordion-container\"}>\n            {items.map(({ title, content }, index) => (\n                <div key={index} className={`accordion-item ${expandedIndices.includes(index) ? 'expanded' : ''}`}>\n                    <div className=\"accordion-header\" onClick={() => toggleExpand(index)}>\n                        <h1>{title}</h1>\n                        <button\n                            className={`accordion-toggle ${expandedIndices.includes(index) ? 'expanded' : ''}`}\n                        >\n                            <img\n                                src={chevron}\n                                alt=\"chevron\"\n                                className={`chevron ${expandedIndices.includes(index) ? 'rotate' : ''}`}\n                            />\n                        </button>\n                    </div>\n                    <div\n                        className=\"accordion-content\"\n                        ref={(el) => (contentRefs.current[index] = el)}\n                    >\n                        {Array.isArray(content) ? (\n                            <ul>\n                                {content.map((item, i) => (\n                                    <li key={i}>{item}</li>\n                                ))}\n                            </ul>\n                        ) : (\n                                <p>{content}</p>\n                            \n                        )}\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nAccordion.propTypes = {\n    items: PropTypes.arrayOf(\n        PropTypes.shape({\n            title: PropTypes.string.isRequired,\n            content: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.arrayOf(PropTypes.string),\n            ]).isRequired,\n        })\n    ).isRequired,\n};\n\nexport default Accordion;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}